@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html,
  body,
  #root {
    @apply h-full;
  }

  body {
    @apply font-sans text-gray-900 overflow-hidden antialiased;
  }

  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }
  ::-webkit-scrollbar-track {
    @apply bg-transparent;
  }
  ::-webkit-scrollbar-thumb {
    @apply bg-gray-300 rounded-full;
  }
  ::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-400;
  }
}

@layer components {
  .btn-primary {
    @apply inline-flex items-center justify-center rounded-xl bg-gradient-to-r from-primary-600 to-primary-700 px-6 py-3 text-sm font-semibold text-white shadow-md shadow-primary-200/50 transition-all duration-200 hover:from-primary-700 hover:to-primary-800 hover:shadow-lg hover:shadow-primary-300/50 hover:-translate-y-0.5 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0;
  }

  .btn-secondary {
    @apply inline-flex items-center justify-center rounded-xl border border-gray-200 bg-white px-6 py-3 text-sm font-semibold text-gray-700 shadow-sm transition-all duration-200 hover:bg-gray-50 hover:border-gray-300 hover:-translate-y-0.5 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2;
  }

  .btn-danger {
    @apply inline-flex items-center justify-center rounded-xl bg-gradient-to-r from-red-600 to-red-700 px-6 py-3 text-sm font-semibold text-white shadow-md shadow-red-200/50 transition-all duration-200 hover:from-red-700 hover:to-red-800 hover:shadow-lg hover:shadow-red-300/50 hover:-translate-y-0.5 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2;
  }

  .btn-success {
    @apply inline-flex items-center justify-center rounded-xl bg-gradient-to-r from-emerald-600 to-emerald-700 px-6 py-3 text-sm font-semibold text-white shadow-md shadow-emerald-200/50 transition-all duration-200 hover:from-emerald-700 hover:to-emerald-800 hover:shadow-lg hover:shadow-emerald-300/50 hover:-translate-y-0.5 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2;
  }

  .card {
    @apply rounded-2xl border border-gray-100 bg-white p-6 shadow-sm ring-1 ring-gray-900/5 transition-shadow duration-200;
  }

  .card-hover {
    @apply card hover:shadow-md hover:ring-gray-900/10;
  }

  .input {
    @apply block w-full rounded-xl border border-gray-200 bg-gray-50/50 px-4 py-3 text-sm text-gray-900 placeholder-gray-400 shadow-sm transition-all duration-200 focus:border-primary-500 focus:bg-white focus:outline-none focus:ring-2 focus:ring-primary-500/20;
  }

  .label {
    @apply block text-sm font-medium text-gray-700 mb-1.5;
  }

  .stat-card {
    @apply rounded-2xl border border-gray-100 bg-white p-5 shadow-sm ring-1 ring-gray-900/5 flex flex-col items-center justify-center gap-1.5 text-center transition-all duration-200 hover:shadow-md hover:-translate-y-0.5;
  }

  .badge {
    @apply inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold tracking-wide;
  }

  .badge-success {
    @apply badge bg-emerald-50 text-emerald-700 ring-1 ring-emerald-600/20;
  }

  .badge-warning {
    @apply badge bg-amber-50 text-amber-700 ring-1 ring-amber-600/20;
  }

  .badge-danger {
    @apply badge bg-red-50 text-red-700 ring-1 ring-red-600/20;
  }

  .badge-neutral {
    @apply badge bg-gray-50 text-gray-600 ring-1 ring-gray-500/20;
  }

  /* Glass effect */
  .glass {
    @apply bg-white/80 backdrop-blur-xl;
  }

  /* Animated gradient background */
  .gradient-bg {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  }

  /* Table styles */
  .table-header {
    @apply py-3.5 px-4 text-left text-xs font-semibold uppercase tracking-wider text-gray-500;
  }

  .table-cell {
    @apply py-3.5 px-4 text-sm;
  }
}

/* Fade-in animation */
@keyframes fade-in {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}

.animate-fade-in {
  animation: fade-in 0.4s ease-out;
}

/* Slide-up animation */
@keyframes slide-up {
  from { opacity: 0; transform: translateY(16px); }
  to { opacity: 1; transform: translateY(0); }
}

.animate-slide-up {
  animation: slide-up 0.5s ease-out;
}

/* Staggered children animation */
.stagger > * {
  animation: fade-in 0.3s ease-out both;
}
.stagger > *:nth-child(1) { animation-delay: 0ms; }
.stagger > *:nth-child(2) { animation-delay: 60ms; }
.stagger > *:nth-child(3) { animation-delay: 120ms; }
.stagger > *:nth-child(4) { animation-delay: 180ms; }
.stagger > *:nth-child(5) { animation-delay: 240ms; }

/* Theme variables and presets */
:root {
  --bg: #f8fafc;
  --card-bg: #ffffff;
  --text: #0f172a;
  --muted: #6b7280;
  --border: rgba(15,23,42,0.06);
  --input-bg: rgba(243,244,246,0.8);
  --primary-600: #2563eb;
  --primary-700: #1d4ed8;
}


[data-theme="light"] {
  --bg: #f8fafc;
  --card-bg: #ffffff;
  --text: #0f172a;
  --muted: #6b7280;
  --border: rgba(15,23,42,0.06);
  --input-bg: rgba(243,244,246,0.6);
  --primary-600: #2563eb;
  --primary-700: #1d4ed8;
  --glass-bg: rgba(255,255,255,0.8);
}

[data-theme="dark"] {
  /* Strong black background for true dark mode */
  --bg: #000000;
  --card-bg: #0b0b0b;
  --text: #ffffff;
  /* Muted text slightly desaturated white for secondary text */
  --muted: #9aa4b2;
  --border: rgba(255,255,255,0.06);
  --input-bg: rgba(255,255,255,0.02);
  /* Use a subtle teal/sky primary for accents in dark mode */
  --primary-600: #06b6d4;
  --primary-700: #0891b2;
  --glass-bg: rgba(255,255,255,0.03);
}

/* Apply the theme variables to base elements */
html, body, #root {
  background-color: var(--bg) !important;
  color: var(--text) !important;
}

.card {
  background-color: var(--card-bg) !important;
  border-color: var(--border) !important;
}

.input {
  background-color: var(--input-bg) !important;
  color: var(--text) !important;
  border-color: var(--border) !important;
}

.label { color: var(--muted) !important; }

.glass { background-color: var(--glass-bg) !important; backdrop-filter: blur(8px); }

/* App root helper so layout containers don't override theme */
.app-root { background-color: var(--bg) !important; color: var(--text) !important; }

/* Dark-mode fixes: map common Tailwind gray text/background utilities to theme variables inside app-root */
.app-root .text-gray-900,
.app-root .text-gray-800,
.app-root .text-gray-700 {
  color: var(--text) !important;
}

.app-root .text-gray-600,
.app-root .text-gray-500,
.app-root .text-gray-400 {
  color: var(--muted) !important;
}

/* Ensure explicit white backgrounds adapt in dark mode */
.app-root .bg-white {
  background-color: var(--card-bg) !important;
}

/* Ensure table headers/cells use theme colors */
.app-root .table-header { color: var(--muted) !important; }
.app-root .table-cell { color: var(--text) !important; }

/* Stat card theme adjustments */
.stat-icon-bg { background-color: var(--card-bg) !important; }
.stat-value { color: var(--text) !important; }
.stat-label { color: var(--muted) !important; }

/* Primary color helpers for inline styles that use primary via CSS variables */
.primary-bg { background-image: linear-gradient(90deg, var(--primary-600), var(--primary-700)); }
.primary { color: var(--primary-600); }

/* Enhanced metric/card styles for modern dashboard */
/* Metric/card visual - flat and professional */
.metric-card {
  border-radius: 12px;
  padding: 1rem;
  background-color: var(--card-bg) !important;
  border: 1px solid var(--border);
  box-shadow: 0 8px 24px rgba(2,6,23,0.06);
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.chart-card {
  border-radius: 12px;
  padding: 1rem;
  background-color: var(--card-bg) !important;
  border: 1px solid var(--border);
  box-shadow: 0 8px 24px rgba(2,6,23,0.06);
}

.metric-value { font-size: 2.25rem; font-weight: 800; color: var(--text); }
.metric-label { font-size: 0.75rem; letter-spacing: 0.12em; text-transform: uppercase; color: var(--muted); }

/* Canvas container to give depth and subtle inner shadow */
.chart-canvas {
  position: relative;
  border-radius: 12px;
  padding: 8px;
}
.chart-canvas {
  position: relative;
  border-radius: 12px;
  padding: 8px;
  background-color: transparent;
}

/* Sparkline small canvas tweaks */
.sparkline-canvas canvas { width: 100% !important; height: 100% !important; }

/* Metric / mini card specific styles */
.metric-card { display: flex; align-items: center; justify-content: space-between; }
.metric-card .metric-value { color: var(--text); }
.metric-card .text-gray-400 { color: var(--muted) !important; }
